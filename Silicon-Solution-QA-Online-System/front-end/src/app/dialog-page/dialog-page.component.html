<mat-dialog-content>
  <mat-toolbar>
    <mat-button-toggle-group  (change)="onChangeSheet($event)">
      <mat-button-toggle value="general" [checked]='true'>General Info</mat-button-toggle>
      <mat-button-toggle value="pc">PC Info</mat-button-toggle>
      <mat-button-toggle value="dut">DUT Info</mat-button-toggle>
      <mat-button-toggle value="tester">Tester Info</mat-button-toggle>
      <mat-button-toggle value="description">Description</mat-button-toggle>
      <mat-button-toggle value="document">Document</mat-button-toggle>
    </mat-button-toggle-group>
  </mat-toolbar>
  <div class="container" [ngSwitch]="selectedSheet">
    <div *ngSwitchCase="'general'">
      <p class="row">
        <mat-form-field appearance="outline" class="col">
          <mat-label>Station Name</mat-label>
          <input matInput placeholder="Station Name" value="{{station['vender']}}-{{station['chipset']}}-{{station['device']}}UP" id="id" disabled>
        </mat-form-field>
        <mat-form-field appearance="outline" class="col">
          <mat-label>Vender Name</mat-label>
          <input matInput placeholder="Vender Name" [(ngModel)]="station['vender']" [readonly] = "readOnly" id="vender" [matAutocomplete]="auto" (focus)="giveSuggestion($event)">
        </mat-form-field>
        <mat-form-field appearance="outline" class="col">
          <mat-label>Chipset Number</mat-label>
          <input matInput placeholder="Chipset Number" [(ngModel)]="station['chipset']" id="chipset" [readonly] = "readOnly" [matAutocomplete]="auto" (focus)="giveSuggestion($event)">
        </mat-form-field>
      </p>
      <p class="row">
        <mat-form-field appearance="outline" class="col">
          <mat-label>Number of Device</mat-label>
          <input matInput placeholder="Number of Device"  [(ngModel)]="station['device']" id="device" [readonly] = "readOnly" [matAutocomplete]="auto" (focus)="giveSuggestion($event)">
        </mat-form-field>
        <mat-form-field appearance="outline" class="col">
          <mat-select placeholder="Station Status" [(ngModel)]="station['status']" id="status" [disabled] = "readOnly">
            <mat-option *ngFor="let status of stationStatus" [value]="status">
              {{ status }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </p>
      <p class="row">
          <mat-label for="station_picture">Station Picture</mat-label>
          <input type="file" class="col form-control-file" *ngIf="!readOnly" id="station_picture" (change)="onFileChange($event)" accept="image/*" title="Please upload station picture">
      </p>
      <p class="row">
          <img class="row" *ngIf="stationImagePath" [src]="stationImagePath">
      </p>
      
    </div>
    <div *ngSwitchCase="'pc'">
        <p class="row">
          <mat-form-field appearance="outline" class="col">
            <mat-label>Computer IP Address</mat-label>
            <input matInput placeholder="Computer IP Address" id="computer_IP"  [(ngModel)]="station['computer_IP']" [readonly] = "readOnly">
          </mat-form-field>
        </p>
        <p class="row">
          <mat-form-field appearance="outline" class="col">
            <mat-label>Computer Username</mat-label>
            <input matInput placeholder="Computer Username" id="computer_username" [(ngModel)]="station['computer_username']" [readonly] = "readOnly">
          </mat-form-field>
        </p>
        <p class="row">
          <mat-form-field appearance="outline" class="col">
            <mat-label>Computer Password</mat-label>
            <input matInput placeholder="Computer Password" id="computer_password" [(ngModel)]="station['computer_password']" [readonly] = "readOnly">
          </mat-form-field>
        </p>
    </div>
    <div *ngSwitchCase="'dut'">
      <p class="row">
        <mat-form-field appearance="outline" class="col">
          <mat-label>DUT Name</mat-label>
          <input matInput placeholder="DUT Name" id="DUT_name" [(ngModel)]="station['DUT_name']" [readonly] = "readOnly">
        </mat-form-field>
        <mat-form-field appearance="outline" class="col">
          <mat-label>DUT HW version</mat-label>
          <input matInput placeholder="DUT HW version" id="DUT_HW_version" [(ngModel)]="station['DUT_HW_version']" [readonly] = "readOnly">
        </mat-form-field>
      </p>
      <p class="row" *ngIf = "readOnly">
        <mat-form-field appearance="outline" class="col">
          <mat-label>DUT WIFI FW version</mat-label>
          <mat-select placeholder="Please make selection (latest to oldest)" [(value)]="newDutWifiFwVersion['location']">
            <mat-option *ngFor="let version of station['DUT_WIFI_FW_version']" [value]="version.location">
              {{ version.description }}
            </mat-option>
          </mat-select>
        <a class="location_btn" matSuffix [routerLink] = "['location', {url: newDutWifiFwVersion.location}]" target="_blank"><i-arrow-right></i-arrow-right></a>
        </mat-form-field>
       
        <mat-form-field appearance="outline" class="col">
          <mat-label>DUT BT HCD File</mat-label>
          <mat-select placeholder="Please make selection (latest to oldest)" [(value)]="newDutBtHcdFile['location']">
            <mat-option *ngFor="let file of station['DUT_BT_HCD_file']" [value]="file.location">
              {{ file.description }}
            </mat-option>
          </mat-select>
          <a class="location_btn" matSuffix [routerLink] = "['location', {url: newDutBtHcdFile['location']}]" target="_blank"><i-arrow-right></i-arrow-right></a>
        </mat-form-field>
      </p>
      <p class="row" *ngIf = "!readOnly">
        <mat-form-field appearance="outline" class="col" >
          <mat-label>DUT WIFI FW version</mat-label>
          <input matInput placeholder="DUT WIFI FW Version" id="DUT_WIFI_FW_version" [(ngModel)]="newDutWifiFwVersion['description']" 
            [matAutocomplete]="auto" (focus)="giveSuggestion($event)">
        </mat-form-field>
        <mat-form-field appearance="outline" class="col" >
          <mat-label>File Location</mat-label>
          <input matInput placeholder="Copy file path to here" id="DUT_WIFI_FW_version_file_location" [(ngModel)]="newDutWifiFwVersion['location']">
        </mat-form-field>
      </p> 
      <p class="row" *ngIf = "!readOnly">
        <mat-form-field appearance="outline" class="col" >
          <mat-label>DUT BT HCD File</mat-label>
          <input matInput placeholder="DUT BT HCD File" id="DUT_BT_HCD_file" [(ngModel)]="newDutBtHcdFile['description']" 
            [matAutocomplete]="auto" (focus)="giveSuggestion($event)">
        </mat-form-field>
        <mat-form-field appearance="outline" class="col" >
          <mat-label>File Location</mat-label>
          <input matInput placeholder="Copy file path to here" id="DUT_BT_HCD_file_location" [(ngModel)]="newDutBtHcdFile['location']">
        </mat-form-field>
      </p>  
      <p class="row">
        <mat-form-field appearance="outline" class="col">
          <mat-label>DUT Username</mat-label>
          <input matInput placeholder=">DUT Username" id="DUT_username" [(ngModel)]="station['DUT_username']" [readonly] = "readOnly">
        </mat-form-field>
        <mat-form-field appearance="outline" class="col">
          <mat-label>DUT Password</mat-label>
          <input matInput placeholder="DUT Password" id="DUT_password" [(ngModel)]="station['DUT_password']" [readonly] = "readOnly">
        </mat-form-field>
        <mat-form-field appearance="outline" class="col">
          <mat-label>External Power Supply</mat-label>
          <input matInput placeholder="External Power Supply" id="external_power_supply" [(ngModel)]="station['external_power_supply']" [readonly] = "readOnly">
        </mat-form-field>
      </p>
      <p class="row">
        <mat-form-field appearance="outline" class="col">
          <mat-label>Additional Comment</mat-label>
          <textarea matInput placeholder="Additional Comment" id="additional_comments" [(ngModel)]="station['additional_comments']" [readonly] = "readOnly"></textarea>
        </mat-form-field>
      </p>
      <p class="row">
          <mat-label for="DUT_connection_picture">DUT Connection Picture</mat-label>
          <input type="file" class="col" *ngIf="!readOnly" id="DUT_connection_picture" (change)="onFileChange($event)" accept="image/*" title="Please upload DUT connection picture">
      </p>
      <p class="row">
          <img class="row" *ngIf="DUTImagePath" [src]="DUTImagePath">
      </p>
    </div>
    <div *ngSwitchCase="'tester'">
      
      <button mat-button *ngIf="!readOnly" (click)="addTester($event)" class="col"><i-file-plus></i-file-plus>Add Tester</button>
      <table mat-table [dataSource]="testerSource" class="col">

        <!-- Vender Column -->
        <ng-container matColumnDef="Model">
          <th mat-header-cell *matHeaderCellDef> Tester Model </th>
          <td mat-cell *matCellDef="let element "> <input matInput [(ngModel)]="element.tester_model" placeholder="Tester Model" [readonly] = "readOnly"></td>
        </ng-container>

        <!-- Position Column -->
        <ng-container matColumnDef="IP">
          <th mat-header-cell *matHeaderCellDef> Tester IP </th>
          <td mat-cell *matCellDef="let element"> <input matInput [(ngModel)]="element.tester_IP" placeholder="Tester IP" [readonly] = "readOnly"> </td>
        </ng-container>

        <!-- Vender Column -->
        <ng-container matColumnDef="FirmwareVersion">
            <th mat-header-cell *matHeaderCellDef> Firmware Version </th>
            <td mat-cell *matCellDef="let element "> <input matInput [(ngModel)]="element.firmware_version" placeholder="Firmware Version" [readonly] = "readOnly"> </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="testerColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: testerColumns"></tr>
      </table>
    </div>
    <div *ngSwitchCase="'description'">
        <p class="row">
            <mat-form-field appearance="outline" class="col">
              <mat-label>Station Description</mat-label>
              <textarea matInput placeholder="Station Description" id="station_description" [(ngModel)]="station['station_description']" [readonly] = "readOnly"></textarea>
            </mat-form-field>
          </p>
    </div>
    <div *ngSwitchCase="'document'">
      <div class="dropzone col" appDragAndDrop (fileDropped)="onFileDrop($event)" (click)="document_upload.click()">
        <div class="text-wrapper">
          <div class="centered"><i-upload-cloud></i-upload-cloud>Drop your file here or Click to select file!</div>
        </div>
      </div>
      <input type="file" style="display:none;" id="document_upload" name="file" #document_upload (change)="onFileSelect($event)" multiple/>
      <table mat-table [dataSource]="documentSource" class="col">

        <!-- Vender Column -->
        <ng-container matColumnDef="File">
          <th mat-header-cell *matHeaderCellDef> Document </th>
          <td mat-cell *matCellDef="let element "> 
            <a *ngIf="element.url" [href]="_sanitizer.bypassSecurityTrustUrl(element.url)" target="_blank">{{element.name}}</a> 
            <span *ngIf="!element.url">{{element.name}}</span></td>
        </ng-container>

        <!-- Position Column -->
        <ng-container matColumnDef="Size">
          <th mat-header-cell *matHeaderCellDef> Document Size </th>
          <td mat-cell *matCellDef="let element"> {{element.size}} KB</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="documentColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: documentColumns"></tr>
      </table>
    </div>
  </div>
 
  <mat-autocomplete #auto="matAutocomplete">
    <mat-option *ngFor="let option of options" [value]="option">{{option}}</mat-option>
  </mat-autocomplete>

</mat-dialog-content>
<mat-dialog-actions>
    <button mat-raised-button	(click)="onChangeView(false)" *ngIf="readOnly">Update</button>
    <button mat-raised-button	(click)="onChangeView(true)" *ngIf="!readOnly">View</button>
    <button mat-raised-button	(click)="onSubmit($event)" *ngIf="!readOnly">Save</button>
    <button mat-button (click)="dialogRef.close()" *ngIf="!readOnly">Cancel</button>
</mat-dialog-actions>

